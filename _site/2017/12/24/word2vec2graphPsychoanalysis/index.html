<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Spark for Big Data Analytics.">

    <title>Word2Vec2Graph - Psychoanalysis Topics - Sparkling Data Ocean</title>

    <link rel="canonical" href="http://localhost:4000/2017/12/24/word2vec2graphPsychoanalysis/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Sparkling Data Ocean" />
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-114694347-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-114694347-1');
    </script>

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Sparkling Data Ocean</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                
				
                <li>
                    <a href="/about/">About</a>
                </li>
				
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<header class="intro-header" style="background-image: url('/img/modern36.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Word2Vec2Graph - Psychoanalysis Topics</h1>
                    
                    <h2 class="subheading">Quick Look at Text</h2>
                    
                    <span class="meta">Posted by Melenar on December 24, 2017</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

				<p><h3>Word2Vec2Graph Model and Free Associations</h3>

<p>Word2Vec2Graph technique to find text topics is similar to Free Association technique used in psychoanalysis: "The importance of free association is that the patients spoke for themselves, rather than repeating the ideas of the analyst; they work through their own material, rather than parroting another's suggestions" (Freud).</p>
<p>In this post we will show some examples that prove this analogy. As a text file we will use data about Psychoanalysis from Wikipedia.
</p>

<h3>Read and Clean Psychoanalysis Data File </h3>
Read Psychoanalysis Data file, tokenize and remove stop words:

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">import</span> <span class="nn">org.apache.spark.ml._</span>
<span class="k">import</span> <span class="nn">org.apache.spark.ml.feature._</span>
<span class="k">val</span> <span class="nv">inputPsychoanalysis</span><span class="k">=</span><span class="nv">sc</span><span class="o">.</span><span class="py">textFile</span><span class="o">(</span><span class="s">"/FileStore/tables/psychoanalisys1.txt"</span><span class="o">).</span>
   <span class="nf">toDF</span><span class="o">(</span><span class="s">"charLine"</span><span class="o">)</span>

<span class="k">val</span> <span class="nv">tokenizer</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">RegexTokenizer</span><span class="o">().</span>
   <span class="nf">setInputCol</span><span class="o">(</span><span class="s">"charLine"</span><span class="o">).</span>
   <span class="nf">setOutputCol</span><span class="o">(</span><span class="s">"value"</span><span class="o">).</span>
   <span class="nf">setPattern</span><span class="o">(</span><span class="s">"[^a-z]+"</span><span class="o">).</span>
   <span class="nf">setMinTokenLength</span><span class="o">(</span><span class="mi">5</span><span class="o">).</span>
   <span class="nf">setGaps</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
<span class="k">val</span> <span class="nv">tokenizedPsychoanalysis</span> <span class="k">=</span> <span class="n">tokenizer</span><span class="o">.</span>
   <span class="nf">transform</span><span class="o">(</span><span class="n">inputPsychoanalysis</span><span class="o">)</span>
<span class="k">val</span> <span class="nv">remover</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">StopWordsRemover</span><span class="o">().</span>
   <span class="nf">setInputCol</span><span class="o">(</span><span class="s">"value"</span><span class="o">).</span>
   <span class="nf">setOutputCol</span><span class="o">(</span><span class="s">"stopWordFree"</span><span class="o">)</span>
<span class="k">val</span> <span class="nv">removedStopWordsPsychoanalysis</span> <span class="k">=</span> <span class="n">remover</span><span class="o">.</span>
   <span class="nf">setStopWords</span><span class="o">(</span><span class="nc">Array</span><span class="o">(</span><span class="s">"none"</span><span class="o">,</span><span class="s">"also"</span><span class="o">,</span><span class="s">"nope"</span><span class="o">,</span><span class="s">"null"</span><span class="o">)++</span>
   <span class="nv">remover</span><span class="o">.</span><span class="py">getStopWords</span><span class="o">).</span>
   <span class="nf">transform</span><span class="o">(</span><span class="n">tokenizedPsychoanalysis</span><span class="o">)</span></code></pre></figure>


<p> </p>
<p>Explode Psychoanalysis word arrays to words:</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">import</span> <span class="nn">org.apache.spark.sql.functions.explode</span>
<span class="k">val</span> <span class="nv">slpitCleanPsychoanalysis</span> <span class="k">=</span> <span class="n">removedStopWordsPsychoanalysis</span><span class="o">.</span>
   <span class="nf">withColumn</span><span class="o">(</span><span class="s">"cleanWord"</span><span class="o">,</span><span class="nf">explode</span><span class="o">(</span><span class="n">$</span><span class="s">"stopWordFree"</span><span class="o">)).</span>
   <span class="nf">select</span><span class="o">(</span><span class="s">"cleanWord"</span><span class="o">).</span>
   <span class="n">distinct</span>
<span class="nv">slpitCleanPsychoanalysis</span><span class="o">.</span><span class="py">count</span><span class="c1">//--4030</span></code></pre></figure>

<p> </p>



<p><h3>Are Word Pairs in Trained Word2Vec Model? </h3>
Read trained Word2Vec model that was trained and described in
<i><a href="https://sparklingdataocean.github.io/gh-pages/2017/09/06/w2vTrain/"> our first post</a></i>. </p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">import</span> <span class="nn">org.apache.spark.ml.feature.Word2Vec</span>
<span class="k">import</span> <span class="nn">org.apache.spark.ml._</span>
<span class="k">import</span> <span class="nn">org.apache.spark.ml.feature.Word2VecModel</span>
<span class="k">import</span> <span class="nn">org.apache.spark.sql.Row</span>
<span class="k">val</span> <span class="nv">word2vec</span><span class="k">=</span> <span class="k">new</span> <span class="nc">Word2Vec</span><span class="o">().</span>
   <span class="nf">setInputCol</span><span class="o">(</span><span class="s">"value"</span><span class="o">).</span>
   <span class="nf">setOutputCol</span><span class="o">(</span><span class="s">"result"</span><span class="o">)</span>
<span class="k">val</span> <span class="nv">modelNewsWiki</span><span class="k">=</span><span class="nc">Word2VecModel</span><span class="o">.</span>
   <span class="n">read</span><span class="o">.</span>
   <span class="nf">load</span><span class="o">(</span><span class="s">"w2vNewsWiki"</span><span class="o">)</span></code></pre></figure>


<p>Get a set of all words from the Word2Vec model and compare Psychoanalysis file word pairs with words from the Word2Vec model </p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="nv">cleanPsychoW2V</span><span class="k">=</span><span class="n">slpitCleanPsychoanalysis</span><span class="o">.</span>
   <span class="nf">join</span><span class="o">(</span><span class="n">modelWords</span><span class="o">,</span><span class="ss">'cleanWord</span><span class="o">===</span><span class="ss">'word</span><span class="o">).</span>
   <span class="nf">select</span><span class="o">(</span><span class="s">"cleanWord"</span><span class="o">).</span>
   <span class="n">distinct</span>
<span class="nv">cleanPsychoW2V</span><span class="o">.</span><span class="py">count</span><span class="c1">//--3318</span></code></pre></figure>


<p>The Word2Vec model was trained on corpus based on News and Wikipedia data about psychology but only 82% of Psychoanalysis file word pairs are in the model. To increase this percentage we will include Psychoanalysis file data to training corpus and retrain the Word2Vec model. </p>

<p><h3>Retrain Word2Vec Model</h3>



<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="nv">inputNews</span><span class="k">=</span><span class="n">sc</span><span class="o">.</span>
  <span class="nf">textFile</span><span class="o">(</span><span class="s">"/FileStore/tables/newsTest.txt"</span><span class="o">).</span>
  <span class="nf">toDF</span><span class="o">(</span><span class="s">"charLine"</span><span class="o">)</span>
<span class="k">val</span> <span class="nv">inputWiki</span><span class="k">=</span><span class="nv">sc</span><span class="o">.</span><span class="py">textFile</span><span class="o">(</span><span class="s">"/FileStore/tables/WikiTest.txt"</span><span class="o">).</span>
   <span class="nf">toDF</span><span class="o">(</span><span class="s">"charLine"</span><span class="o">)</span>
<span class="k">val</span> <span class="nv">tokenizedNewsWikiPsychoanalysis</span> <span class="k">=</span> <span class="n">tokenizer</span><span class="o">.</span>
   <span class="nf">transform</span><span class="o">(</span><span class="n">inputNews</span><span class="o">.</span>
   <span class="nf">union</span><span class="o">(</span><span class="n">inputWiki</span><span class="o">).</span>
   <span class="nf">union</span><span class="o">(</span><span class="n">inputPsychoanalysis</span><span class="o">))</span>

<span class="k">val</span> <span class="nv">w2VmodelNewsWikiPsychoanalysis</span><span class="k">=</span><span class="n">word2vec</span><span class="o">.</span>
      <span class="nf">fit</span><span class="o">(</span><span class="n">tokenizedNewsWikiPsychoanalysis</span><span class="o">)</span>
   <span class="n">w2VmodelNewsWikiPsychoanalysis</span><span class="o">.</span>
      <span class="n">write</span><span class="o">.</span>
      <span class="n">overwrite</span><span class="o">.</span>
      <span class="nf">save</span><span class="o">(</span><span class="s">"w2VmodelNewsWikiPsychoanalysis"</span><span class="o">)</span>
<span class="k">val</span> <span class="nv">modelNewsWikiPsychoanalysis</span><span class="k">=</span><span class="nc">Word2VecModel</span><span class="o">.</span>
      <span class="n">read</span><span class="o">.</span>
      <span class="nf">load</span><span class="o">(</span><span class="s">"w2VmodelNewsWikiPsychoanalysis"</span><span class="o">)</span>   </code></pre></figure>


<p>Get a set of all words from the new Word2Vec model and compare them with Psychoanalysis file words:</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="nv">modelNewsWikiPsychoanalysis</span><span class="k">=</span><span class="nc">Word2VecModel</span><span class="o">.</span>
   <span class="n">read</span><span class="o">.</span>
   <span class="nf">load</span><span class="o">(</span><span class="s">"w2VmodelNewsWikiPsychoanalysis"</span><span class="o">)</span>
<span class="k">val</span> <span class="nv">modelWordsPsychoanalysis</span><span class="k">=</span><span class="n">modelNewsWikiPsychoanalysis</span><span class="o">.</span>
    <span class="n">getVectors</span><span class="o">.</span>
    <span class="nf">select</span><span class="o">(</span><span class="s">"word"</span><span class="o">,</span><span class="s">"vector"</span><span class="o">)</span>
<span class="k">val</span> <span class="nv">cleanPsychoNewW2V</span><span class="k">=</span><span class="n">slpitCleanPsychoanalysis</span><span class="o">.</span>
    <span class="nf">join</span><span class="o">(</span><span class="n">modelWordsPsychoanalysis</span><span class="o">,</span><span class="ss">'cleanWord</span><span class="o">===</span><span class="ss">'word</span><span class="o">).</span>
    <span class="nf">select</span><span class="o">(</span><span class="s">"word"</span><span class="o">,</span><span class="s">"vector"</span><span class="o">).</span>
    <span class="n">distinct</span>
<span class="nv">cleanPsychoNewW2V</span><span class="o">.</span><span class="py">count</span><span class="c1">//--3433    </span></code></pre></figure>


<p>This new Word2Vec model works a little bit better: 85% of Psychoanalysis File words are in the model. </p>

<p><h3>How Word Pairs are Connected?</h3>
Now we will calculate cosine similarities of words within word pairs.
We introduced Word2Vec Cosine Similarity Function in the  
<i><a href="https://sparklingdataocean.github.io/gh-pages/2017/09/17/word2vec2graph/">Word2Vec2Graph model Introduction post.</a></i>
</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">import</span> <span class="nn">org.apache.spark.ml.linalg.Vector</span>
<span class="k">def</span> <span class="nf">dotVector</span><span class="o">(</span><span class="n">vectorX</span><span class="k">:</span> <span class="kt">org.apache.spark.ml.linalg.Vector</span><span class="o">,</span>
             <span class="n">vectorY</span><span class="k">:</span> <span class="kt">org.apache.spark.ml.linalg.Vector</span><span class="o">)</span><span class="k">:</span> <span class="kt">Double</span> <span class="o">=</span> <span class="o">{</span>
  <span class="k">var</span> <span class="n">dot</span><span class="k">=</span><span class="mf">0.0</span>
  <span class="nf">for</span> <span class="o">(</span><span class="n">i</span> <span class="k">&lt;-</span><span class="mi">0</span> <span class="n">to</span> <span class="nv">vectorX</span><span class="o">.</span><span class="py">size</span><span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="n">dot</span> <span class="o">+=</span> <span class="nf">vectorX</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">*</span> <span class="nf">vectorY</span><span class="o">(</span><span class="n">i</span><span class="o">)</span>
  <span class="n">dot</span>
<span class="o">}</span>
<span class="k">def</span> <span class="nf">cosineVector</span><span class="o">(</span><span class="n">vectorX</span><span class="k">:</span> <span class="kt">org.apache.spark.ml.linalg.Vector</span><span class="o">,</span>
                 <span class="n">vectorY</span><span class="k">:</span> <span class="kt">org.apache.spark.ml.linalg.Vector</span><span class="o">)</span><span class="k">:</span> <span class="kt">Double</span> <span class="o">=</span> <span class="o">{</span>
  <span class="nf">require</span><span class="o">(</span><span class="nv">vectorX</span><span class="o">.</span><span class="py">size</span> <span class="o">==</span> <span class="nv">vectorY</span><span class="o">.</span><span class="py">size</span><span class="o">)</span>
  <span class="k">val</span> <span class="nv">dot</span><span class="k">=</span><span class="nf">dotVector</span><span class="o">(</span><span class="n">vectorX</span><span class="o">,</span><span class="n">vectorY</span><span class="o">)</span>
  <span class="k">val</span> <span class="nv">div</span><span class="k">=</span><span class="nf">dotVector</span><span class="o">(</span><span class="n">vectorX</span><span class="o">,</span><span class="n">vectorX</span><span class="o">)</span> <span class="o">*</span> <span class="nf">dotVector</span><span class="o">(</span><span class="n">vectorY</span><span class="o">,</span><span class="n">vectorY</span><span class="o">)</span>
  <span class="nf">if</span> <span class="o">(</span><span class="n">div</span><span class="o">==</span><span class="mi">0</span><span class="o">)</span><span class="mi">0</span>
  <span class="k">else</span> <span class="n">dot</span><span class="o">/</span><span class="nv">math</span><span class="o">.</span><span class="py">sqrt</span><span class="o">(</span><span class="n">div</span><span class="o">)</span>
<span class="o">}</span>

<span class="k">val</span> <span class="nv">cleanPsychoNewW2V2</span><span class="k">=</span><span class="n">cleanPsychoNewW2V</span><span class="o">.</span>
   <span class="nf">toDF</span><span class="o">(</span><span class="s">"word2"</span><span class="o">,</span><span class="s">"vector2"</span><span class="o">)</span>
<span class="k">val</span> <span class="nv">w2wPsycho</span><span class="k">=</span><span class="n">cleanPsychoNewW2V</span><span class="o">.</span>
   <span class="nf">join</span><span class="o">(</span><span class="n">cleanPsychoNewW2V2</span><span class="o">,</span><span class="ss">'word</span><span class="o">=!=</span><span class="ss">'word2</span><span class="o">)</span>
<span class="k">val</span> <span class="nv">w2wPsychoCosDF</span><span class="k">=</span><span class="n">w2wPsycho</span><span class="o">.</span>
   <span class="nf">map</span><span class="o">(</span><span class="n">r</span><span class="o">=&gt;(</span><span class="nv">r</span><span class="o">.</span><span class="py">getAs</span><span class="o">[</span><span class="kt">String</span><span class="o">](</span><span class="mi">0</span><span class="o">),</span><span class="nv">r</span><span class="o">.</span><span class="py">getAs</span><span class="o">[</span><span class="kt">String</span><span class="o">](</span><span class="mi">2</span><span class="o">),</span>
    <span class="nf">cosineVector</span><span class="o">(</span><span class="nv">r</span><span class="o">.</span><span class="py">getAs</span><span class="o">[</span><span class="kt">org.apache.spark.ml.linalg.Vector</span><span class="o">](</span><span class="mi">1</span><span class="o">),</span>
    <span class="nv">r</span><span class="o">.</span><span class="py">getAs</span><span class="o">[</span><span class="kt">org.apache.spark.ml.linalg.Vector</span><span class="o">](</span><span class="mi">3</span><span class="o">)))).</span>
   <span class="nf">toDF</span><span class="o">(</span><span class="s">"word1"</span><span class="o">,</span><span class="s">"word2"</span><span class="o">,</span><span class="s">"cos"</span><span class="o">)</span></code></pre></figure>


<p><h3>Transform to Pairs of Words</h3>
Get pairs of words and explode ngrams:</p>


<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">import</span> <span class="nn">org.apache.spark.sql.functions.explode</span>
<span class="k">val</span> <span class="nv">ngram</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">NGram</span><span class="o">().</span>
   <span class="nf">setInputCol</span><span class="o">(</span><span class="s">"stopWordFree"</span><span class="o">).</span>
   <span class="nf">setOutputCol</span><span class="o">(</span><span class="s">"ngrams"</span><span class="o">).</span>
   <span class="nf">setN</span><span class="o">(</span><span class="mi">2</span><span class="o">)</span>
<span class="k">val</span> <span class="nv">ngramCleanWords</span> <span class="k">=</span> <span class="n">ngram</span><span class="o">.</span>
   <span class="nf">transform</span><span class="o">(</span><span class="n">removedStopWordsPsychoanalysis</span><span class="o">)</span>
<span class="k">val</span> <span class="nv">slpitNgrams</span><span class="k">=</span><span class="n">ngramCleanWords</span><span class="o">.</span>
    <span class="nf">withColumn</span><span class="o">(</span><span class="s">"ngram"</span><span class="o">,</span><span class="nf">explode</span><span class="o">(</span><span class="n">$</span><span class="s">"ngrams"</span><span class="o">)).</span>
    <span class="nf">select</span><span class="o">(</span><span class="s">"ngram"</span><span class="o">).</span>
    <span class="nf">map</span><span class="o">(</span><span class="n">s</span><span class="o">=&gt;(</span><span class="nf">s</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="py">toString</span><span class="o">,</span>
         <span class="nf">s</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="py">toString</span><span class="o">.</span><span class="py">split</span><span class="o">(</span><span class="s">" "</span><span class="o">)(</span><span class="mi">0</span><span class="o">),</span>
         <span class="nf">s</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="py">toString</span><span class="o">.</span><span class="py">split</span><span class="o">(</span><span class="s">" "</span><span class="o">)(</span><span class="mi">1</span><span class="o">))).</span>
    <span class="nf">toDF</span><span class="o">(</span><span class="s">"ngram"</span><span class="o">,</span><span class="s">"ngram1"</span><span class="o">,</span><span class="s">"ngram2"</span><span class="o">).</span>
    <span class="nf">filter</span><span class="o">(</span><span class="ss">'ngram1</span><span class="o">=!=</span><span class="ss">'ngram2</span><span class="o">)</span>   </code></pre></figure>


Cosine similarities for pairs of words:</p>


<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="nv">ngramCos</span><span class="k">=</span><span class="n">slpitNgrams</span><span class="o">.</span>
   <span class="nf">join</span><span class="o">(</span><span class="n">w2wPsychoCosDF</span><span class="o">,</span><span class="ss">'ngram1</span><span class="o">===</span><span class="ss">'word1</span> <span class="o">&amp;&amp;</span> <span class="ss">'ngram2</span><span class="o">===</span><span class="ss">'word2</span><span class="o">)</span></code></pre></figure>


<p><h3>Graph on Word Pairs</h3>
Now we can build a graph on word pairs: words will be nodes, ngrams - edges and cosine similarities - edge weights.</p>
<p>We will save graph vertices and edges as Parquet to Databricks locations, load vertices and edges and rebuild the same graph.</p>


<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">import</span> <span class="nn">org.graphframes.GraphFrame</span>
<span class="k">val</span> <span class="nv">graphNodes1</span><span class="k">=</span><span class="n">ngramCos</span><span class="o">.</span>
   <span class="nf">select</span><span class="o">(</span><span class="s">"ngram1"</span><span class="o">).</span>
   <span class="nf">union</span><span class="o">(</span><span class="nv">ngramCos</span><span class="o">.</span><span class="py">select</span><span class="o">(</span><span class="s">"ngram2"</span><span class="o">)).</span>
   <span class="n">distinct</span><span class="o">.</span>
   <span class="nf">toDF</span><span class="o">(</span><span class="s">"id"</span><span class="o">)</span>
<span class="k">val</span> <span class="nv">graphEdges1</span><span class="k">=</span><span class="n">ngramCos</span><span class="o">.</span>
   <span class="nf">select</span><span class="o">(</span><span class="s">"ngram1"</span><span class="o">,</span><span class="s">"ngram2"</span><span class="o">,</span><span class="s">"cos"</span><span class="o">).</span>
   <span class="n">distinct</span><span class="o">.</span>
   <span class="nf">toDF</span><span class="o">(</span><span class="s">"src"</span><span class="o">,</span><span class="s">"dst"</span><span class="o">,</span><span class="s">"edgeWeight"</span><span class="o">)</span>
<span class="k">val</span> <span class="nv">graph1</span> <span class="k">=</span> <span class="nc">GraphFrame</span><span class="o">(</span><span class="n">graphNodes1</span><span class="o">,</span><span class="n">graphEdges1</span><span class="o">)</span>

<span class="nv">graph1</span><span class="o">.</span><span class="py">vertices</span><span class="o">.</span><span class="py">write</span><span class="o">.</span>
   <span class="nf">parquet</span><span class="o">(</span><span class="s">"graphPsychoVertices"</span><span class="o">)</span>
<span class="nv">graph1</span><span class="o">.</span><span class="py">edges</span><span class="o">.</span><span class="py">write</span><span class="o">.</span>
   <span class="nf">parquet</span><span class="o">(</span><span class="s">"graphPsychoEdges"</span><span class="o">)</span>

<span class="k">val</span> <span class="nv">graphPsychoanalysisVertices</span> <span class="k">=</span> <span class="nv">sqlContext</span><span class="o">.</span><span class="py">read</span><span class="o">.</span><span class="py">parquet</span><span class="o">(</span><span class="s">"graphPsychoVertices"</span><span class="o">)</span>
<span class="k">val</span> <span class="nv">graphPsychoanalysisEdges</span> <span class="k">=</span> <span class="nv">sqlContext</span><span class="o">.</span><span class="py">read</span><span class="o">.</span><span class="py">parquet</span><span class="o">(</span><span class="s">"graphPsychoEdges"</span><span class="o">)</span>

<span class="k">val</span> <span class="nv">graphPsychoanalysis</span> <span class="k">=</span> <span class="nc">GraphFrame</span><span class="o">(</span><span class="n">graphPsychoanalysisVertices</span><span class="o">,</span> <span class="n">graphPsychoanalysisEdges</span><span class="o">)</span></code></pre></figure>



<p><h3>Page Rank</h3>
Calculate Page Rank:</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="nv">graphPsychoanalysisPageRank</span> <span class="k">=</span> <span class="n">graphPsychoanalysis</span><span class="o">.</span>
   <span class="n">pageRank</span><span class="o">.</span>
   <span class="nf">resetProbability</span><span class="o">(</span><span class="mf">0.15</span><span class="o">).</span>
   <span class="nf">maxIter</span><span class="o">(</span><span class="mi">11</span><span class="o">).</span>
   <span class="nf">run</span><span class="o">()</span>
<span class="nf">display</span><span class="o">(</span><span class="nv">graphPsychoanalysisPageRank</span><span class="o">.</span><span class="py">vertices</span><span class="o">.</span>
   <span class="n">distinct</span><span class="o">.</span>
   <span class="nf">sort</span><span class="o">(</span><span class="n">$</span><span class="s">"pagerank"</span><span class="o">.</span><span class="py">desc</span><span class="o">).</span>
   <span class="nf">limit</span><span class="o">(</span><span class="mi">10</span><span class="o">))</span>

   <span class="n">id</span><span class="o">,</span><span class="n">pagerank</span>
   <span class="n">freud</span><span class="o">,</span><span class="mf">94.16935233039906</span>
   <span class="n">psychoanalysis</span><span class="o">,</span><span class="mf">30.977656078470016</span>
   <span class="n">psychoanalytic</span><span class="o">,</span><span class="mf">22.478475163400674</span>
   <span class="n">theory</span><span class="o">,</span><span class="mf">16.603352488179016</span>
   <span class="n">unconscious</span><span class="o">,</span><span class="mf">16.420744218061404</span>
   <span class="n">patients</span><span class="o">,</span><span class="mf">13.99147342505276</span>
   <span class="n">sexual</span><span class="o">,</span><span class="mf">13.563442527065638</span>
   <span class="n">patient</span><span class="o">,</span><span class="mf">12.591079870941268</span>
   <span class="n">analyst</span><span class="o">,</span><span class="mf">11.662939169635427</span>
   <span class="n">treatment</span><span class="o">,</span><span class="mf">11.566778056932069</span></code></pre></figure>



<p><h3>Finding Topics </h3>
In the previous post we described
<i><a href="https://sparklingdataocean.github.io/gh-pages/2017/12/09/word2vec2graphWordPairsContinue/"> how to find document topics via Word2Vec2Graph model</a></i>.

We created a function to calculate connected components with cosine similarly and component size parameters and a function to transform subgraph edges to DOT language:
</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">import</span> <span class="nn">org.apache.spark.sql.DataFrame</span>
<span class="k">def</span> <span class="nf">w2v2gConnectedComponents</span><span class="o">(</span><span class="n">graphVertices</span><span class="k">:</span> <span class="kt">DataFrame</span><span class="o">,</span>
   <span class="n">graphEdges</span><span class="k">:</span> <span class="kt">DataFrame</span><span class="o">,</span>
   <span class="n">cosineMin</span><span class="k">:</span> <span class="kt">Double</span><span class="o">,</span> <span class="n">cosineMax</span><span class="k">:</span> <span class="kt">Double</span><span class="o">,</span>
   <span class="n">ccMin</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">ccMax</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">DataFrame</span> <span class="o">=</span> <span class="o">{</span>
<span class="k">val</span> <span class="nv">graphEdgesSub</span><span class="k">=</span> <span class="n">graphEdges</span><span class="o">.</span>
   <span class="nf">filter</span><span class="o">(</span><span class="ss">'edgeWeight</span><span class="o">&gt;</span><span class="n">cosineMin</span><span class="o">).</span>
   <span class="nf">filter</span><span class="o">(</span><span class="ss">'edgeWeight</span><span class="o">&lt;</span><span class="n">cosineMax</span><span class="o">)</span>
 <span class="nv">sc</span><span class="o">.</span><span class="py">setCheckpointDir</span><span class="o">(</span><span class="s">"/FileStore/"</span><span class="o">)</span>
 <span class="k">val</span> <span class="nv">resultCC</span> <span class="k">=</span> <span class="n">graphSub</span><span class="o">.</span>
    <span class="n">connectedComponents</span><span class="o">.</span>
    <span class="nf">run</span><span class="o">()</span>
 <span class="k">val</span> <span class="nv">resultCCcount</span><span class="k">=</span><span class="n">resultCC</span><span class="o">.</span>
    <span class="nf">groupBy</span><span class="o">(</span><span class="s">"component"</span><span class="o">).</span>
    <span class="n">count</span><span class="o">.</span>
    <span class="nf">toDF</span><span class="o">(</span><span class="s">"cc"</span><span class="o">,</span><span class="s">"ccCt"</span><span class="o">)</span>
 <span class="k">val</span> <span class="nv">sizeCC</span><span class="k">=</span><span class="nv">resultCC</span><span class="o">.</span><span class="py">join</span><span class="o">(</span><span class="n">resultCCcount</span><span class="o">,</span><span class="ss">'component</span><span class="o">===</span><span class="ss">'cc</span><span class="o">).</span>
    <span class="nf">filter</span><span class="o">(</span><span class="ss">'ccCt</span><span class="o">&lt;</span><span class="n">ccMax</span><span class="o">).</span><span class="py">filter</span><span class="o">(</span><span class="ss">'ccCt</span><span class="o">&gt;</span><span class="n">ccMin</span><span class="o">).</span>
    <span class="nf">select</span><span class="o">(</span><span class="s">"id"</span><span class="o">,</span><span class="s">"component"</span><span class="o">,</span><span class="s">"ccCt"</span><span class="o">).</span><span class="py">distinct</span>
    <span class="nv">graphEdges</span><span class="o">.</span><span class="py">join</span><span class="o">(</span><span class="n">sizeCC</span><span class="o">,</span><span class="ss">'src</span><span class="o">===</span><span class="ss">'id</span><span class="o">).</span>
    <span class="nf">union</span><span class="o">(</span><span class="nv">graphEdges</span><span class="o">.</span><span class="py">join</span><span class="o">(</span><span class="n">sizeCC</span><span class="o">,</span><span class="ss">'dst</span><span class="o">===</span><span class="ss">'id</span><span class="o">)).</span>
    <span class="nf">select</span><span class="o">(</span><span class="s">"component"</span><span class="o">,</span><span class="s">"ccCt"</span><span class="o">,</span><span class="s">"src"</span><span class="o">,</span><span class="s">"dst"</span><span class="o">,</span><span class="s">"edgeWeight"</span><span class="o">).</span><span class="py">distinct</span>
<span class="o">}</span>

<span class="k">def</span> <span class="nf">roundAt</span><span class="o">(</span><span class="n">p</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)(</span><span class="n">n</span><span class="k">:</span> <span class="kt">Double</span><span class="o">)</span><span class="k">:</span> <span class="kt">Double</span> <span class="o">=</span> <span class="o">{</span>
   <span class="k">val</span> <span class="nv">s</span> <span class="k">=</span> <span class="n">math</span> <span class="nf">pow</span> <span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="n">p</span><span class="o">);</span> <span class="o">(</span><span class="n">math</span> <span class="n">round</span> <span class="n">n</span> <span class="o">*</span> <span class="n">s</span><span class="o">)</span> <span class="o">/</span> <span class="n">s</span>
<span class="o">}</span>
<span class="k">def</span> <span class="nf">component2dot</span><span class="o">(</span><span class="n">graphComponents</span><span class="k">:</span> <span class="kt">DataFrame</span><span class="o">,</span>
   <span class="n">componentId</span><span class="k">:</span> <span class="kt">Long</span><span class="o">,</span> <span class="n">cosineMin</span><span class="k">:</span> <span class="kt">Double</span><span class="o">,</span> <span class="n">cosineMax</span><span class="k">:</span> <span class="kt">Double</span><span class="o">)</span><span class="k">:</span> <span class="kt">DataFrame</span> <span class="o">=</span> <span class="o">{</span>
  <span class="n">graphComponents</span><span class="o">.</span>
    <span class="nf">filter</span><span class="o">(</span><span class="ss">'component</span><span class="o">===</span><span class="n">componentId</span><span class="o">).</span>
    <span class="nf">filter</span><span class="o">(</span><span class="ss">'edgeWeight</span><span class="o">&gt;</span><span class="n">cosineMin</span><span class="o">).</span>
    <span class="nf">filter</span><span class="o">(</span><span class="ss">'edgeWeight</span><span class="o">&lt;</span><span class="n">cosineMax</span><span class="o">).</span>
    <span class="nf">select</span><span class="o">(</span><span class="s">"src"</span><span class="o">,</span><span class="s">"dst"</span><span class="o">,</span><span class="s">"edgeWeight"</span><span class="o">).</span><span class="py">distinct</span><span class="o">.</span>
    <span class="nf">map</span><span class="o">(</span><span class="n">s</span><span class="o">=&gt;(</span><span class="s">"\""</span><span class="o">+</span><span class="nf">s</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="py">toString</span> <span class="o">+</span><span class="s">"\" -&gt; \""</span>
      <span class="o">+</span><span class="nf">s</span><span class="o">(</span><span class="mi">1</span><span class="o">).</span><span class="py">toString</span> <span class="o">+</span><span class="s">"\""</span><span class="o">+</span><span class="s">" [label=\""</span><span class="o">+</span><span class="nf">roundAt</span><span class="o">(</span><span class="mi">2</span><span class="o">)(</span><span class="nf">s</span><span class="o">(</span><span class="mi">2</span><span class="o">).</span><span class="py">toString</span><span class="o">.</span><span class="py">toDouble</span><span class="o">)+</span><span class="s">"\"];"</span><span class="o">)).</span>
      <span class="nf">toDF</span><span class="o">(</span><span class="s">"dotLine"</span><span class="o">)</span>  
<span class="o">}</span></code></pre></figure>


<p>To select parameters we analyzed cosine similarity distribution. </p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="nv">weightDistribution</span><span class="k">=</span><span class="n">graphPsychoanalysisEdges</span><span class="o">.</span>
   <span class="nf">map</span><span class="o">(</span><span class="n">s</span><span class="o">=&gt;(</span><span class="nf">roundAt</span><span class="o">(</span><span class="mi">2</span><span class="o">)(</span><span class="nf">s</span><span class="o">(</span><span class="mi">2</span><span class="o">).</span><span class="py">toString</span><span class="o">.</span><span class="py">toDouble</span><span class="o">))).</span>
   <span class="nf">toDF</span><span class="o">(</span><span class="s">"cosine1"</span><span class="o">).</span><span class="py">groupBy</span><span class="o">(</span><span class="s">"cosine1"</span><span class="o">).</span><span class="py">count</span><span class="o">.</span><span class="py">toDF</span><span class="o">(</span><span class="s">"cosine1"</span><span class="o">,</span><span class="s">"cosine1Count"</span><span class="o">)</span>
<span class="nf">display</span><span class="o">(</span><span class="nv">weightDistribution</span><span class="o">.</span><span class="py">orderBy</span><span class="o">(</span><span class="ss">'cosine1</span><span class="o">))</span></code></pre></figure>


<a href="#">
    <img src="/img/weightDistribution2.jpg" alt="Post Sample Image" width="700" height="700" />
</a>

<p>Based on cosine similarity distribution we'll look at topics with high, medium and low cosine similarities. </p>

<p><h3>Psychoanalysis Topics with High Cosine Similarities</h3>
Connected components with edge weights greater than 0.7: </p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">import</span> <span class="nn">org.apache.spark.sql.expressions.Window</span>
<span class="k">import</span> <span class="nn">org.apache.spark.sql.functions._</span>
<span class="k">val</span> <span class="nv">partitionWindow</span> <span class="k">=</span> <span class="nc">Window</span><span class="o">.</span>
   <span class="nf">partitionBy</span><span class="o">(</span><span class="n">$</span><span class="s">"component"</span><span class="o">).</span>
   <span class="nf">orderBy</span><span class="o">(</span><span class="n">$</span><span class="s">"edgeWeight"</span><span class="o">.</span><span class="py">desc</span><span class="o">)</span>
<span class="k">val</span> <span class="nv">result</span><span class="k">=</span><span class="nf">w2v2gConnectedComponents</span><span class="o">(</span><span class="n">graphPsychoanalysisVertices</span><span class="o">,</span>
   <span class="n">graphPsychoanalysisEdges</span><span class="o">,</span><span class="mf">0.7</span><span class="o">,</span><span class="mf">1.0</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">30</span><span class="o">)</span>
<span class="nv">result</span><span class="o">.</span><span class="py">persist</span>
<span class="k">val</span> <span class="nv">result3edges</span> <span class="k">=</span> <span class="n">result</span><span class="o">.</span>
    <span class="nf">withColumn</span><span class="o">(</span><span class="s">"rank"</span><span class="o">,</span> <span class="nf">rank</span><span class="o">().</span><span class="py">over</span><span class="o">(</span><span class="n">partitionWindow</span><span class="o">))</span>
<span class="nf">display</span><span class="o">(</span><span class="nv">result3edges</span><span class="o">.</span><span class="py">filter</span><span class="o">(</span><span class="s">"rank&lt;4"</span><span class="o">).</span><span class="py">orderBy</span><span class="o">(</span><span class="s">"component"</span><span class="o">,</span><span class="s">"rank"</span><span class="o">))</span>

<span class="n">component</span><span class="o">,</span><span class="n">ccCt</span><span class="o">,</span><span class="n">src</span><span class="o">,</span><span class="n">dst</span><span class="o">,</span><span class="n">edgeWeight</span><span class="o">,</span><span class="n">rank</span>
<span class="mi">94489280524</span><span class="o">,</span><span class="mi">8</span><span class="o">,</span><span class="n">patient</span><span class="o">,</span><span class="n">symptoms</span><span class="o">,</span><span class="mf">0.7865587769877727</span><span class="o">,</span><span class="mi">1</span>
<span class="mi">94489280524</span><span class="o">,</span><span class="mi">8</span><span class="o">,</span><span class="n">causes</span><span class="o">,</span><span class="n">symptoms</span><span class="o">,</span><span class="mf">0.7812604197062254</span><span class="o">,</span><span class="mi">2</span>
<span class="mi">94489280524</span><span class="o">,</span><span class="mi">8</span><span class="o">,</span><span class="n">psychological</span><span class="o">,</span><span class="n">symptoms</span><span class="o">,</span><span class="mf">0.7336816137236032</span><span class="o">,</span><span class="mi">3</span>
<span class="mi">103079215116</span><span class="o">,</span><span class="mi">6</span><span class="o">,</span><span class="n">university</span><span class="o">,</span><span class="n">professor</span><span class="o">,</span><span class="mf">0.814475286620036</span><span class="o">,</span><span class="mi">1</span>
<span class="mi">103079215116</span><span class="o">,</span><span class="mi">6</span><span class="o">,</span><span class="n">medicine</span><span class="o">,</span><span class="n">university</span><span class="o">,</span><span class="mf">0.7513358180212253</span><span class="o">,</span><span class="mi">2</span>
<span class="mi">103079215116</span><span class="o">,</span><span class="mi">6</span><span class="o">,</span><span class="n">cornell</span><span class="o">,</span><span class="n">university</span><span class="o">,</span><span class="mf">0.7424065353940977</span><span class="o">,</span><span class="mi">3</span>
<span class="mi">137438953473</span><span class="o">,</span><span class="mi">7</span><span class="o">,</span><span class="n">france</span><span class="o">,</span><span class="n">italy</span><span class="o">,</span><span class="mf">0.8368846158082526</span><span class="o">,</span><span class="mi">1</span>
<span class="mi">137438953473</span><span class="o">,</span><span class="mi">7</span><span class="o">,</span><span class="n">italy</span><span class="o">,</span><span class="n">netherlands</span><span class="o">,</span><span class="mf">0.8187021693660411</span><span class="o">,</span><span class="mi">2</span>
<span class="mi">137438953473</span><span class="o">,</span><span class="mi">7</span><span class="o">,</span><span class="n">italy</span><span class="o">,</span><span class="n">switzerland</span><span class="o">,</span><span class="mf">0.8021272522224945</span><span class="o">,</span><span class="mi">3</span>
<span class="mi">541165879312</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="n">treatments</span><span class="o">,</span><span class="n">therapy</span><span class="o">,</span><span class="mf">0.8333818545810646</span><span class="o">,</span><span class="mi">1</span>
<span class="mi">541165879312</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="n">therapy</span><span class="o">,</span><span class="n">schizophrenia</span><span class="o">,</span><span class="mf">0.7847859437652135</span><span class="o">,</span><span class="mi">2</span>
<span class="mi">541165879312</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="n">behavioral</span><span class="o">,</span><span class="n">therapy</span><span class="o">,</span><span class="mf">0.744693173351612</span><span class="o">,</span><span class="mi">3</span></code></pre></figure>


<p>We selected component '94489280524'. First we'll create a graph with the same cosine similarity parameters them we used to look at connected components, i.e. for word pairs with cosine similarity &gt;0.7:</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="nv">resultDot</span><span class="k">=</span><span class="nf">component2dot</span><span class="o">(</span><span class="n">result</span><span class="o">,</span><span class="mi">94489280524L</span><span class="o">,</span><span class="mf">0.7</span><span class="o">,</span><span class="mf">1.0</span><span class="o">)</span>
<span class="nf">display</span><span class="o">(</span><span class="n">resultDot</span><span class="o">)</span>
<span class="s">"patient"</span> <span class="o">-&gt;</span> <span class="s">"symptoms"</span> <span class="o">[</span><span class="kt">label=</span><span class="err">"0</span><span class="kt">.</span><span class="err">79"</span><span class="o">];</span>
<span class="s">"causes"</span> <span class="o">-&gt;</span> <span class="s">"illness"</span> <span class="o">[</span><span class="kt">label=</span><span class="err">"0</span><span class="kt">.</span><span class="err">7"</span><span class="o">];</span>
<span class="s">"mental"</span> <span class="o">-&gt;</span> <span class="s">"physical"</span> <span class="o">[</span><span class="kt">label=</span><span class="err">"0</span><span class="kt">.</span><span class="err">71"</span><span class="o">];</span>
<span class="s">"causes"</span> <span class="o">-&gt;</span> <span class="s">"symptoms"</span> <span class="o">[</span><span class="kt">label=</span><span class="err">"0</span><span class="kt">.</span><span class="err">78"</span><span class="o">];</span>
<span class="s">"psychological"</span> <span class="o">-&gt;</span> <span class="s">"symptoms"</span> <span class="o">[</span><span class="kt">label=</span><span class="err">"0</span><span class="kt">.</span><span class="err">73"</span><span class="o">];</span>
<span class="s">"mental"</span> <span class="o">-&gt;</span> <span class="s">"illness"</span> <span class="o">[</span><span class="kt">label=</span><span class="err">"0</span><span class="kt">.</span><span class="err">73"</span><span class="o">];</span>
<span class="s">"patient"</span> <span class="o">-&gt;</span> <span class="s">"outcomes"</span> <span class="o">[</span><span class="kt">label=</span><span class="err">"0</span><span class="kt">.</span><span class="err">72"</span><span class="o">];</span></code></pre></figure>



<a href="#">
    <img src="/img/graph21d.jpg" alt="Post Sample Image" width="400" height="500" />
</a>


<p>Next we'll expand the topic graph for word pairs with cosine similarity &gt;0.6:</p>

<a href="#">
    <img src="/img/graph21f.jpg" alt="Post Sample Image" width="600" height="500" />
</a>

<p>Then we'll expand the same connected component to cosine similarity &gt;0.5:</p>

<a href="#">
    <img src="/img/graph21a.jpg" alt="Post Sample Image" width="700" height="500" />
</a>

<p><h3>Psychoanalysis Topics with Medium Cosine Similarities</h3>
Connected components parameters: edge weights in (0.17, 0.2): </p>
<p>Graph picture parameters: edge weights in (0.1, 0.2):</p>

<a href="#">
    <img src="/img/graph27.jpg" alt="Post Sample Image" width="600" height="500" />
</a>

<p><h3>Psychoanalysis Topics with Low Cosine Similarities</h3>
Connected components with edge weights in (-0.5, 0.0): </p>
<p>Graph picture with no parameters: edge weights in (-1.0, 1.0):</p>


<p>Example 1:</p>

<a href="#">
    <img src="/img/graph24.jpg" alt="Post Sample Image" width="500" height="500" />
</a>


<p>Example 2:</p>

<a href="#">
    <img src="/img/graph23.jpg" alt="Post Sample Image" width="560" height="500" />
</a>

<p>Example 3:</p>

<a href="#">
    <img src="/img/graph22.jpg" alt="Post Sample Image" width="700" height="500" />
</a>

<p>This post example topics with high cosine similarity word pairs are more expected then topics with low cosine similarity word pairs. Lowly correlated word pairs give us more interesting and unpredicted results. The last example shows that within Psychoanalysis text file the word 'association' is associated with some unexpected words...</p>

<p><h3>Next Post - Associations</h3>
In the next several posts we will deeper look at data associations.</p>
</p>


                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2017/12/09/word2vec2graphWordPairsContinue/" data-toggle="tooltip" data-placement="top" title="Direct Word2Vec2Graph - Finding Topics">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2018/04/04/word2vec2graphInsights/" data-toggle="tooltip" data-placement="top" title="Word2Vec2Graph - Insights">Next Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>
</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    
                    <li>
                        <a href="mailto:sparkling.dataocean@gmail.com">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy; Melenar 2024</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>


    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-114694347-1', 'auto');
  ga('send', 'pageview');

</script>



</body>

</html>
